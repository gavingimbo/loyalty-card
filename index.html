<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Premium Membership Wallet</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: "#050505", 
                        surface: "#121212",
                        primary: "#ffffff",
                        muted: "#71717a",
                        emerald: { DEFAULT: "#10b981", dark: "#064e3b" },
                        ruby: { DEFAULT: "#f43f5e", dark: "#881337" },
                        diamond: { DEFAULT: "#38bdf8", dark: "#0c4a6e" }
                    },
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                    aspectRatio: {
                        'credit-card': '1.586 / 1', // ISO 7810 ID-1 Standard
                    },
                    animation: {
                        'shine': 'shine 6s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        shine: {
                            '0%': { backgroundPosition: '200% center' },
                            '100%': { backgroundPosition: '-200% center' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* Premium Noise Texture */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* Hide Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Holographic Sheen Effect */
        .holo-sheen {
            background: linear-gradient(
                115deg,
                transparent 40%,
                rgba(255, 255, 255, 0.15) 45%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0.15) 55%,
                transparent 60%
            );
            background-size: 200% 100%;
            mix-blend-mode: overlay;
        }

        /* Smooth iOS Scrolling */
        .carousel-container {
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        /* Tabular Numbers for Prices */
        .tabular-nums { font-feature-settings: "tnum"; }
        
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-background text-primary font-sans antialiased overflow-x-hidden selection:bg-emerald-500/30">

    <div class="noise-overlay"></div>

    <div x-data="app()" x-init="init()" class="flex flex-col min-h-screen max-w-[430px] mx-auto relative shadow-2xl bg-background pb-32">
        
        <header class="pt-12 px-6 pb-4 flex justify-between items-center z-20">
            <div>
                <p class="text-[10px] font-bold tracking-[0.2em] text-muted uppercase mb-1">Select Tier</p>
                <h1 class="text-3xl font-bold tracking-tight text-white">Membership</h1>
            </div>
            
            <div class="flex gap-1.5 items-center">
                <template x-for="i in 3">
                    <div class="h-1 rounded-full transition-all duration-500 ease-out" 
                        :class="activeCard === (i-1) ? 'w-8 bg-white' : 'w-1.5 bg-zinc-800'"></div>
                </template>
            </div>
        </header>

        <div class="relative w-full py-4 z-10">
            <div x-ref="slider" @scroll.debounce.5ms="onScroll" 
                 class="carousel-container flex gap-5 px-6 pb-8 pt-2 overflow-x-auto no-scrollbar"
                 style="scroll-padding-left: 24px;">
                
                <div class="snap-center shrink-0 w-[88%] relative perspective-1000" @click="scrollTo(0)">
                    <div class="relative w-full aspect-credit-card rounded-2xl p-6 flex flex-col justify-between overflow-hidden transition-all duration-500 border border-white/10 shadow-2xl"
                         :class="activeCard === 0 ? 'scale-100 ring-1 ring-emerald-500/50' : 'scale-[0.96] opacity-60 brightness-50'">
                        
                        <div class="absolute inset-0 bg-gradient-to-br from-[#064e3b] via-[#022c22] to-black"></div>
                        <div class="absolute inset-0 holo-sheen animate-shine"></div>
                        
                        <div class="relative z-10 flex justify-between items-start">
                            <div class="px-3 py-1.5 rounded bg-emerald-950/40 border border-emerald-500/20 backdrop-blur-md">
                                <span class="text-[10px] font-bold tracking-widest text-emerald-400 uppercase">Entry Level</span>
                            </div>
                            <i data-lucide="gem" class="text-emerald-400/80 w-6 h-6"></i>
                        </div>

                        <div class="relative z-10">
                            <h3 class="text-2xl font-bold text-white mb-0.5">Emerald</h3>
                            <div class="flex items-baseline gap-1">
                                <span class="text-sm text-emerald-100/60 font-medium">LKR</span>
                                <span class="text-3xl font-bold text-white tracking-tight tabular-nums">50,000</span>
                                <span class="text-xs text-emerald-100/40 ml-0.5">/yr</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="snap-center shrink-0 w-[88%] relative perspective-1000" @click="scrollTo(1)">
                    <div class="relative w-full aspect-credit-card rounded-2xl p-6 flex flex-col justify-between overflow-hidden transition-all duration-500 border border-white/10 shadow-2xl"
                         :class="activeCard === 1 ? 'scale-100 ring-1 ring-rose-500/50' : 'scale-[0.96] opacity-60 brightness-50'">
                        
                        <div class="absolute inset-0 bg-gradient-to-br from-[#881337] via-[#4c0519] to-black"></div>
                        <div class="absolute inset-0 holo-sheen animate-shine" style="animation-delay: 2s;"></div>
                        
                        <div class="relative z-10 flex justify-between items-start">
                            <div class="px-3 py-1.5 rounded bg-rose-950/40 border border-rose-500/20 backdrop-blur-md">
                                <span class="text-[10px] font-bold tracking-widest text-rose-400 uppercase">Best Value</span>
                            </div>
                            <i data-lucide="crown" class="text-rose-400/80 w-6 h-6"></i>
                        </div>

                        <div class="relative z-10">
                            <h3 class="text-2xl font-bold text-white mb-0.5">Ruby</h3>
                            <div class="flex items-baseline gap-1">
                                <span class="text-sm text-rose-100/60 font-medium">LKR</span>
                                <span class="text-3xl font-bold text-white tracking-tight tabular-nums">125,000</span>
                                <span class="text-xs text-rose-100/40 ml-0.5">/yr</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="snap-center shrink-0 w-[88%] relative perspective-1000" @click="scrollTo(2)">
                    <div class="relative w-full aspect-credit-card rounded-2xl p-6 flex flex-col justify-between overflow-hidden transition-all duration-500 border border-white/10 shadow-2xl"
                         :class="activeCard === 2 ? 'scale-100 ring-1 ring-sky-500/50' : 'scale-[0.96] opacity-60 brightness-50'">
                        
                        <div class="absolute inset-0 bg-gradient-to-br from-[#0c4a6e] via-[#082f49] to-black"></div>
                        <div class="absolute inset-0 holo-sheen animate-shine" style="animation-delay: 4s;"></div>
                        
                        <div class="relative z-10 flex justify-between items-start">
                            <div class="px-3 py-1.5 rounded bg-sky-950/40 border border-sky-500/20 backdrop-blur-md">
                                <span class="text-[10px] font-bold tracking-widest text-sky-400 uppercase">Premium</span>
                            </div>
                            <i data-lucide="sparkles" class="text-sky-400/80 w-6 h-6"></i>
                        </div>

                        <div class="relative z-10">
                            <h3 class="text-2xl font-bold text-white mb-0.5">Diamond</h3>
                            <div class="flex items-baseline gap-1">
                                <span class="text-sm text-sky-100/60 font-medium">LKR</span>
                                <span class="text-3xl font-bold text-white tracking-tight tabular-nums">425,000</span>
                                <span class="text-xs text-sky-100/40 ml-0.5">/yr</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex-1 px-6 -mt-2">
            
            <div class="relative z-20 flex bg-[#1a1a1a] p-1.5 rounded-full border border-white/5 w-full mb-8">
                <div class="absolute top-1.5 bottom-1.5 rounded-full bg-white transition-all duration-300 ease-spring"
                     :style="`left: ${tabLeft}%; width: ${tabWidth}%;`"></div>

                <button @click="setTab('dining', 0)" class="relative flex-1 py-2.5 rounded-full text-[13px] font-semibold transition-colors duration-300 text-center z-10"
                    :class="activeTab === 'dining' ? 'text-black' : 'text-zinc-500'">
                    Dining
                </button>
                <button @click="setTab('stay', 1)" class="relative flex-1 py-2.5 rounded-full text-[13px] font-semibold transition-colors duration-300 text-center z-10"
                    :class="activeTab === 'stay' ? 'text-black' : 'text-zinc-500'">
                    Stay
                </button>
                <button @click="setTab('wellness', 2)" class="relative flex-1 py-2.5 rounded-full text-[13px] font-semibold transition-colors duration-300 text-center z-10"
                    :class="activeTab === 'wellness' ? 'text-black' : 'text-zinc-500'">
                    Wellness
                </button>
            </div>

            <div class="flex items-center gap-3 mb-4">
                <div class="p-3 rounded-2xl bg-zinc-900 border border-white/5 transition-colors duration-300"
                     :class="getIconColorClass()">
                    <i :data-lucide="getIcon()" class="w-5 h-5"></i>
                </div>
                <div>
                    <span class="text-[10px] uppercase tracking-wider text-zinc-500 font-bold">Includes</span>
                    <h3 class="text-lg font-bold text-white" x-text="getTitle()"></h3>
                </div>
            </div>

            <div class="min-h-[300px] relative">
                <div x-show="true" 
                     :key="activeCard + activeTab">
                    <ul class="space-y-3">
                        <template x-for="(item, idx) in getData()" :key="idx">
                            <li class="flex items-start gap-4 p-4 rounded-2xl bg-[#121212] border border-white/5 shadow-sm transition-all duration-500"
                                x-transition:enter="opacity-0 translate-y-4"
                                x-transition:enter-end="opacity-100 translate-y-0"
                                :style="`transition-delay: ${idx * 70}ms`">
                                <div class="mt-0.5 shrink-0">
                                    <i data-lucide="check" class="w-4 h-4 transition-colors duration-300" 
                                       :class="getCheckColor()"></i>
                                </div>
                                <span class="text-[14px] leading-snug text-zinc-300 font-medium" x-text="item"></span>
                            </li>
                        </template>
                    </ul>
                </div>
            </div>
        </div>

        <div class="fixed bottom-0 left-0 right-0 p-6 pt-6 bg-gradient-to-t from-black via-black/95 to-transparent z-50 max-w-[430px] mx-auto">
            <div class="flex justify-between items-end mb-4 px-1">
                <span class="text-xs font-medium text-zinc-400">Total Annual Fee</span>
                <span class="text-lg font-bold text-white tabular-nums tracking-tight" x-text="getPrice()"></span>
            </div>
            <button class="w-full py-4 rounded-xl font-bold text-[15px] text-zinc-950 shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2"
                :class="getBtnColor()"
                @click="vibrate">
                <span>Choose Plan</span>
                <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </button>
        </div>

    </div>

    <script>
        function app() {
            return {
                activeCard: 1, // Ruby Default
                activeTab: 'dining',
                tabLeft: 1.5, // Percentage for tab background
                tabWidth: 32, // Percentage for tab background
                
                init() {
                    lucide.createIcons();
                    // Initial Tab Position Calculation
                    this.setTab('dining', 0);
                    // Initial Scroll Center
                    setTimeout(() => this.scrollTo(1), 100);
                },

                // Physics-based Scroll Logic
                onScroll(e) {
                    const slider = e.target;
                    const cardWidth = slider.firstElementChild.offsetWidth;
                    const gap = 20; // 5rem gap
                    const scrollPos = slider.scrollLeft;
                    
                    // Improved index calculation
                    const index = Math.round(scrollPos / (cardWidth + gap * 0.5));
                    
                    if (this.activeCard !== index && index >= 0 && index <= 2) {
                        this.activeCard = index;
                        this.vibrate();
                    }
                },

                scrollTo(index) {
                    this.activeCard = index;
                    const slider = this.$refs.slider;
                    const card = slider.children[index];
                    
                    // Center Alignment
                    const scrollLeft = card.offsetLeft - (slider.offsetWidth - card.offsetWidth) / 2;
                    
                    slider.scrollTo({ left: scrollLeft, behavior: 'smooth' });
                    this.vibrate();
                },

                setTab(tab, index) {
                    this.activeTab = tab;
                    // Move the pill background
                    this.tabWidth = 33; 
                    this.tabLeft = (index * 33) + 0.5;
                    
                    this.vibrate();
                    this.$nextTick(() => lucide.createIcons());
                },

                vibrate() {
                    if (navigator.vibrate) navigator.vibrate(10);
                },

                // Dynamic Styling Helpers
                getCheckColor() {
                    if (this.activeCard === 0) return 'text-emerald-500';
                    if (this.activeCard === 1) return 'text-rose-500';
                    return 'text-sky-500';
                },
                getBtnColor() {
                    if (this.activeCard === 0) return 'bg-emerald-500 hover:bg-emerald-400 shadow-[0_0_30px_-10px_rgba(16,185,129,0.5)]';
                    if (this.activeCard === 1) return 'bg-rose-500 hover:bg-rose-400 shadow-[0_0_30px_-10px_rgba(244,63,94,0.5)]';
                    return 'bg-sky-500 hover:bg-sky-400 shadow-[0_0_30px_-10px_rgba(56,189,248,0.5)]';
                },
                getIconColorClass() {
                    if (this.activeCard === 0) return 'bg-emerald-500/10 text-emerald-400';
                    if (this.activeCard === 1) return 'bg-rose-500/10 text-rose-400';
                    return 'bg-sky-500/10 text-sky-400';
                },

                // Content Data
                getIcon() {
                    return { 'dining': 'utensils', 'stay': 'bed-double', 'wellness': 'sparkles' }[this.activeTab];
                },
                getTitle() {
                    return { 'dining': 'Culinary Perks', 'stay': 'Accommodation', 'wellness': 'Spa & Wellness' }[this.activeTab];
                },
                getPrice() {
                    return ['LKR 50,000', 'LKR 125,000', 'LKR 425,000'][this.activeCard];
                },
                getData() {
                     const data = {
                        [span_0](start_span)// EMERALD[span_0](end_span)
                        0: {
                            [span_1](start_span)dining: ["50% Off Food (Dining)[span_1](end_span)[span_2](start_span)", "10% Off Weekday Lunch @ Quizine[span_2](end_span)[span_3](start_span)", "20% Off Beverages[span_3](end_span)[span_4](start_span)", "Buffet for Two[span_4](end_span)[span_5](start_span)", "Afternoon Tea for Two[span_5](end_span)[span_6](start_span)", "Exclusive Bottle of Wine[span_6](end_span)[span_7](start_span)", "4,000 F&B Credit[span_7](end_span)"],
                            [span_8](start_span)stay: ["Stay 2 Nights, Get 3rd Free[span_8](end_span)[span_9](start_span)", "50% Off BAR for Rooms[span_9](end_span)[span_10](start_span)", "Upgrade City to Ocean View[span_10](end_span)"],
                            [span_11](start_span)wellness: ["20% Off Preferred Rate[span_11](end_span)[span_12](start_span)", "15% Off Treatments[span_12](end_span)[span_13](start_span)", "5% Off Retail[span_13](end_span)", "Comp. [span_14](start_span)Spouse Card[span_14](end_span)"]
                        },
                        [span_15](start_span)// RUBY[span_15](end_span)
                        1: {
                            [span_16](start_span)dining: ["50% Off Food (Dining)[span_16](end_span)[span_17](start_span)", "10% Off Weekday Lunch @ Quizine[span_17](end_span)[span_18](start_span)", "20% Off Beverages[span_18](end_span)[span_19](start_span)", "Buffet for Two[span_19](end_span)[span_20](start_span)", "Afternoon Tea for Two[span_20](end_span)[span_21](start_span)", "Exclusive Bottle of Wine[span_21](end_span)[span_22](start_span)", "4,000 F&B Credit[span_22](end_span)"],
                            [span_23](start_span)stay: ["Deluxe Room + Breakfast for Two[span_23](end_span)[span_24](start_span)", "Unlimited Accommodation Upgrades[span_24](end_span)[span_25](start_span)", "Stay 2 Nights, Get 3rd Free[span_25](end_span)[span_26](start_span)", "LKR 10,000 Room Credit[span_26](end_span)[span_27](start_span)", "Pool Access for Two[span_27](end_span)"],
                            [span_28](start_span)wellness: ["Nature's Symphony 60min Massage[span_28](end_span)[span_29](start_span)", "30% Off Preferred Rate[span_29](end_span)[span_30](start_span)", "20% Off Treatments[span_30](end_span)[span_31](start_span)", "15% Off Retail[span_31](end_span)"]
                        },
                        [span_32](start_span)// DIAMOND[span_32](end_span)
                        2: {
                            [span_33](start_span)dining: ["20% Off Cloud Wine[span_33](end_span)[span_34](start_span)", "50% Off Food (Dining)[span_34](end_span)[span_35](start_span)", "Afternoon Tea @ GATZ[span_35](end_span)[span_36](start_span)", "Party Voucher[span_36](end_span)[span_37](start_span)", "Member for a Day Pass[span_37](end_span)[span_38](start_span)", "Exclusive Bottle of Wine[span_38](end_span)"],
                            stay: ["Comp. [span_39](start_span)Oceanscape Suite + Breakfast[span_39](end_span)[span_40](start_span)", "Upgrade Premier to Suite[span_40](end_span)[span_41](start_span)", "Stay 2 Nights, Get 3rd Free[span_41](end_span)[span_42](start_span)", "50% Off BAR for Rooms[span_42](end_span)", "Comp. [span_43](start_span)Upgrade to Ocean View[span_43](end_span)"],
                            wellness: ["Priority Booking", "Pool Access Included", "Highest Tier Wellness Discounts", "Comp. Spouse Card"]
                        }
                    };
                    return data[this.activeCard][this.activeTab];
                }
            }
        }
    </script>
</body>
</html>
